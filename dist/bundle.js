"use strict";function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=i.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function hasChild(e,t){for(var i=t.parentNode;null!==i;){if(i==e)return!0;i=i.parentNode}return!1}function mousePos(e){var t=0,i=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:i}}jQuery(document).ready(function(e){var t=document.documentElement.clientWidth,i=e(".js-slider-hero").find(".slider-hero-slides").flickity({imagesLoaded:!0,prevNextButtons:!1}),n=i.data("flickity"),o=i.siblings(".slider-hero-nav"),s=o.find(".bullet");i.on("select.flickity",function(){s.filter(".is-selected").removeClass("is-selected"),s.eq(n.selectedIndex).addClass("is-selected")}),o.on("click",".bullet",function(t){var n=e(this).index();i.flickity("select",n),t.preventDefault()}),e(".js-slider-gallery").find(".slider-gallery-slides").flickity({draggable:!1,imagesLoaded:!0,pageDots:!1,prevNextButtons:!1,setGallerySize:!1,selectedAttraction:.05,friction:.5}),e(".js-slider-gallery").find(".slider-gallery-nav").flickity({asNavFor:".js-slider-gallery .slider-gallery-slides",cellAlign:"left",imagesLoaded:!0,groupCells:!0,pageDots:!1,arrowShape:{x0:30,x1:50,y1:20,x2:50,y2:10,x3:40}});var a=e(".js-blog-next"),l=a.find(".blog-next-content"),r=a.find(".bullets"),c=l.flickity({draggable:!1,imagesLoaded:!0,pageDots:!1,prevNextButtons:!1,wrapAround:!0});r.find(".bullet-prev").on("click",function(e){e.preventDefault(),c.flickity("previous")}),r.find(".bullet-next").on("click",function(e){e.preventDefault(),c.flickity("next")}),e(".js-testimonial-highlights").flickity({imagesLoaded:!0,pageDots:!1}),e(".js-product-listing-carousel").find(".product-listing-content").flickity({imagesLoaded:!0,groupCells:!0,pageDots:!1});(function(){if(t>=768){var i=e(".js-slider-gallery .slide"),n=e(".js-slider-gallery .slide").outerWidth();i.zoom({onZoomIn:function(){var t=e(this),i=t.outerWidth(),o=t.outerHeight();i<n&&o<n&&t.trigger("zoom.destroy")}})}})();e(".js-mfp-link").magnificPopup({type:"inline",mainClass:"mfp-animation",removalDelay:200}),e(".js-mfp-modal-link").magnificPopup({type:"inline",mainClass:"mfp-animation",modal:!0,removalDelay:200}),e(document).on("click",".js-mfp-modal-dismiss",function(t){t.preventDefault(),e.magnificPopup.close()});var d=e(".product-variant");d.find(".input").on("change",function(){var t=e(this).siblings(".label").attr("title");e(this).parents(".product-variant").find(".chosen").html(t)}),e(".js-product-filter-brand").find(".list").before('<input type="text" id="search-brand" class="search" placeholder="Search brand">'),e("#search-brand").keyup(function(){var t=e(this).val().toLowerCase();e(this).siblings(".list").find(".input").each(function(){var i=e('label[for="'+e(this).attr("id")+'"]').text().toLowerCase();0===i.indexOf(t)?e(this).parent().show():e(this).parent().hide()})})}),function(){function e(e,t){var i=t.dataset.scrollTarget||t.hash||"",n=document.querySelector("[id='"+i.substring(1)+"']"),o=t.dataset.scrollDuration||.4,s=document.querySelector(t.dataset.scrollOffset)||"",a=s.offsetHeight||0;n&&(TweenMax.to(window,o,{scrollTo:{y:i,offsetY:a}}),e.preventDefault())}var t=document.querySelector("body");svg4everybody();for(var i=document.getElementsByClassName("js-sticky"),n=i.length-1;n>=0;n--)Stickyfill.add(i[n]);var o=new ScrollMagic.Controller,s=document.querySelectorAll(".js-scene");s.forEach(function(e){new ScrollMagic.Scene({triggerElement:e,reverse:!1}).setClassToggle(e,"in-viewport").addIndicators().addTo(o)});var a=(function(){var t=document.querySelectorAll(".js-scroll");t.forEach(function(t){return t.addEventListener("click",function(){e(event,this)})})}(),function(){function t(){var e=getParameterByName("tab"),t=document.querySelector('a[href="#'+e+'"]'),i=t&&document.querySelector(t.hash);if(e&&i){var n=document.querySelectorAll('[data-tab-group="'+i.dataset.tabGroup+'"]');n.forEach(function(e){return e.classList.remove("is-tabbed")}),t.classList.add("is-tabbed"),i.classList.add("is-tabbed")}}function i(t,i){var n=document.querySelector(i.hash);if(n){var o=document.querySelectorAll('[data-tab-group="'+n.dataset.tabGroup+'"]'),s=document.querySelectorAll('.js-tab-target[data-tab-group="'+n.dataset.tabGroup+'"]'),a=i.hash.substring(1),l=i.dataset.tabDuration||.2,r=i.dataset.scrollTarget;n.classList.contains("is-tabbed")||(TweenMax.to(s,l/2,{display:"none",overflow:"hidden",autoAlpha:0,onComplete:function(){TweenMax.set(n,{display:"block",overflow:"visible",autoAlpha:1}),TweenMax.from(n,l,{overflow:"hidden",autoAlpha:0})}}),o.forEach(function(e){return e.classList.remove("is-tabbed")}),i.classList.add("is-tabbed"),n.classList.add("is-tabbed"),r&&e(t,i),window.history&&history.pushState&&history.replaceState("","","?tab="+a)),t.preventDefault()}}var n=document.querySelectorAll(".js-tab");t(),n.forEach(function(e){return e.addEventListener("click",function(e){i(e,this)})})}(),function(){function i(e,t){TweenMax.to(e,t/2,{display:"none",overflow:"hidden",autoAlpha:0,height:0})}function n(e,t,i){TweenMax.set(e,{display:"block",overflow:"visible",autoAlpha:1,height:"auto"}),TweenMax.from(e,t,{overflow:"hidden",autoAlpha:0,height:0,delay:i})}function o(o,a){var l=a.dataset.toggleTarget||a.hash,r=document.querySelector(l),c=a.dataset.toggleArea?document.querySelector(a.dataset.toggleArea):a,d=document.querySelector(a.dataset.toggleFocus),u=a.dataset.toggleMethod||"auto",g=a.dataset.toggleDuration||.25,f=a.dataset.scrollTarget,m=l.substring(1),h=!a.dataset.toggleTarget;if(!r)return!1;if("mouseenter"===o.type||"touchstart"===o.type){if(a.classList.contains("js-toggle-hover")){var v=c.querySelectorAll(".js-toggle-hover.is-toggled");v.forEach(function(e){e!==a&&e.classList.remove("is-toggled")});var p=c.querySelectorAll(".is-toggled"),y=[];p.forEach(function(e){e!==a&&e!==r&&y.push(e)}),"auto"===u&&i(y,g),y.forEach(function(e){return e.classList.remove("is-toggled")}),a.classList.contains("is-toggled")===!1&&(a.classList.add("is-toggled"),r.classList.add("is-toggled"),"auto"===u&&n(r,g,g/2)),c.addEventListener("mouseleave",function(e){s(e,a,r,c,u,g,m)}),t.addEventListener("click",function(e){s(e,a,r,c,u,g,m)}),t.addEventListener("touchend",function(e){s(e,a,r,c,u,g,m)})}}else"click"===o.type&&(a.classList.contains("js-toggle-hover")||(a.classList.contains("is-toggled")||r.classList.contains("is-toggled")?hasChild(a,c)||(a.classList.remove("is-toggled"),a.classList.add("is-untoggling"),r.classList.remove("is-toggled"),r.classList.add("is-untoggling"),t.classList.add(m+"-is-untoggling"),setTimeout(function(){a.classList.remove("is-untoggling"),r.classList.remove("is-untoggling"),t.classList.remove(m+"-is-toggled",m+"-is-untoggling")},1e3*g),"auto"===u&&i(r,g)):(r.classList.add("is-toggled"),a.classList.add("is-toggled"),t.classList.add(m+"-is-toggled"),f&&e(o,a),"auto"===u&&n(r,g,0),d&&d.focus(),t.addEventListener("click",function(e){s(e,a,r,c,u,g,m)}),t.addEventListener("touchend",function(e){s(e,a,r,c,u,g,m)})),h===!0&&o.preventDefault()))}function s(e,n,o,s,a,l,r){(n.classList.contains("is-toggled")||o.classList.contains("is-toggled"))&&(n.classList.contains("js-toggle-hover")&&"click"!==e.type?(n.classList.remove("is-toggled"),n.classList.add("is-untoggling"),o.classList.remove("is-toggled"),o.classList.add("is-untoggling"),setTimeout(function(){n.classList.remove("is-untoggling"),o.classList.remove("is-untoggling")},1e3*l),"auto"===a&&i(o,l)):n===e.target||hasChild(n,e.target)||s===e.target||hasChild(s,e.target)||(n.classList.remove("is-toggled"),n.classList.add("is-untoggling"),o.classList.remove("is-toggled"),o.classList.add("is-untoggling"),t.classList.add(r+"-is-untoggling"),setTimeout(function(){n.classList.remove("is-untoggling"),o.classList.remove("is-untoggling"),t.classList.remove(r+"-is-toggled",r+"-is-untoggling")},1e3*l),"auto"===a&&i(o,l)))}function a(){var e=document.querySelectorAll(".js-toggle-toggled"),t=new MouseEvent("click"),i=new MouseEvent("mouseenter");e.forEach(function(e){return o(t,e)}),e.forEach(function(e){return o(i,e)})}var l=document.querySelectorAll(".js-toggle");a(),l.forEach(function(e){return e.addEventListener("click",function(e){o(e,this)})}),l.forEach(function(e){return e.addEventListener("mouseenter",function(e){o(e,this)})}),l.forEach(function(e){return e.addEventListener("touchstart",function(e){o(e,this)})})}(),function(){function e(e){var t=e;t.insertAdjacentHTML("beforebegin","<div class='js-mover-source'></div>");var i=t.previousElementSibling,n=document.querySelector(t.dataset.moverTarget),o=t.dataset.moverBreakpoint,s=document.documentElement.clientWidth;s>=o&&n.appendChild(t),window.addEventListener("resize",function(){s=document.documentElement.clientWidth,s>=o?t.parentNode!==n&&n.appendChild(t):t.parentNode!==i&&i.appendChild(t)})}var t=document.querySelectorAll(".js-mover");t.forEach(function(t){return e(t)})}(),function(e){function t(e){var t=document.querySelectorAll(e);t.forEach(function(e){if(i=e,i.style.minHeight=0,l=i.offsetTop,s!==l){for(n=0;n<a.length;n++)a[n].style.minHeight=o+"px";a.length=0,s=l,o=i.offsetHeight,a.push(i)}else a.push(i),o=o<i.offsetHeight?i.offsetHeight:o;for(n=0;n<a.length;n++)a[n].style.minHeight=o+"px"})}var i,n,o=0,s=0,a=[],l=0;t(e),window.addEventListener("resize",function(){t(e)})});a(".marketing-benefit .marketing-benefit-item"),imagesLoaded(".product-listing",function(){a(".product-listing .product-listing-item")});var l=document.querySelector(".js-site-header"),r=new TimelineMax,c=document.querySelector(".site-topper"),d=c.offsetHeight;r.to(l.querySelector(".inner"),1,{y:d/2,ease:Power0.easeNone}).to(".site-header-logo",1,{scale:.8,ease:Power0.easeNone},0);var u=(new ScrollMagic.Scene({duration:d,triggerElement:"#site",triggerHook:0,reverse:!0}).setTween(r).addTo(o),document.querySelector(".marketing-statistics")),g=document.querySelectorAll(".marketing-statistic"),f=document.querySelectorAll(".marketing-statistic .value");f.forEach(function(e){return e.style.opacity=0});new ScrollMagic.Scene({triggerElement:u,reverse:!1,triggerHook:.75}).setClassToggle(u,"in-viewport").on("start",function(){g.forEach(function(e){var t=e.querySelector(".value"),i=parseInt(t.innerHTML),n={value:0};TweenMax.to(t,.5,{opacity:1}),TweenMax.to(n,2,{value:i,roundProps:"value",ease:Expo.easeOut,onUpdate:function(){t.innerHTML=n.value}})})}).addTo(o),function(){var e=document.querySelectorAll(".js-form-file");e.forEach(function(e){var t=e.querySelector(".form-file-input"),i=e.querySelector(".form-file-label"),n=i.innerHTML;t.addEventListener("change",function(e){var t="";if(this.files&&this.files.length>1?t=(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value&&(t=e.target.value.split("\\").pop()),t){var o=i.querySelector(".caption");o.innerHTML=t,o.classList.add("has-caption")}else i.innerHTML=n})})}()}();